!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.then=function(e,t){return this.promise.then(e,t)},e.prototype.catch=function(e){return this.promise.catch(e)},e.prototype.finally=function(e){throw new Error("NOT IMPLEMENTED")},e}();t.Deferred=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectId=function(){return $("#search_project_id")[0]?$("#search_project_id")[0].value:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTS_STRINGS=function(e){return r[e]},t.CONSTS_CSS=function(e){return o[e]},t.REPLACE="{{REPLACE}}",t.FADE_SPEED=200;var r={green:"#1aaa55",red:"#db3b21",orange:"#fc9403",blue:"#1f78d1",changed:'\n        <div class="diff-stats-group" style="display: inline-block; transform: scale(0.8);">\n            <strong>~'+t.REPLACE+"</strong>\n        </div>",added:'\n        <div class="diff-stats-group cgreen" style="display: inline-block; transform: scale(0.8);">\n            <strong>+'+t.REPLACE+"</strong>\n        </div>",removed:'\n        <div class="diff-stats-group cred" style="display: inline-block; transform: scale(0.8);">\n            <strong>-'+t.REPLACE+"</strong>\n        </div>",authorPhotoHTML:'<div class="monar-author-photo"><div style="width: 100%; height: 100%; background-size: contain;"></div></div>'},o={feebas:{"background-image":'url("https://github.com/timzatko/feebas/blob/master/packages/desktop_app/src/favicon.256x256.png?raw=true")',"background-repeat":"no-repeat","background-size":"contain","background-origin":"content-box",padding:"4px",width:"40px",height:"40px","border-radius":"50%",border:"1px solid #1aaa55","box-sizing":"border-box","background-color":"transparent"},markedTarget:{"border-radius":"3px",display:"inline-block",padding:"0 4px 0 2px"},upvoteIcon:{color:"green",position:"absolute",right:"280px",top:"11px","margin-right":"0"},downvoteIcon:{color:"red",position:"absolute",right:"330px",top:"11px","margin-right":"0"},conflictIcon:{color:"red",position:"absolute",right:"40px",top:"13px"},authorPhoto:{"margin-top":"10px",display:"block",width:"24px",height:"24px","background-color":"gray","background-size":"contain","border-radius":"50%","margin-right":"15px",overflow:"hidden"},reviewerPhoto:{width:"24px",height:"24px"},reviewerWrapper:{position:"absolute",right:"70px",top:"8px"},pipelineWrapper:{position:"absolute",right:"15px","margin-right":0,top:"12px"},commentsWrapper:{position:"absolute",right:"200px",top:"11px"},updatedAtWrapper:{position:"absolute",opacity:"0.5",right:"15px",bottom:"8px"},titleBase:{color:"rgb(0, 82, 204)","font-weight":"normal"},statusWrapper:{position:"absolute",right:"100px",top:"11px"},approvedBg:{"background-color":"rgba(105, 209, 0, 0.05)"},systemBg:{"background-color":"rgba(66, 139, 202, 0.05)"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFrontend=function(){return"/app/frontend"===window.monar_GLOBALS.project}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadSettings=function(){var e=localStorage.getItem("monar_SETTINGS");window.monar_SETTINGS=e?JSON.parse(e):{hideWip:!0}},t.saveSettings=function(){localStorage.setItem("monar_SETTINGS",JSON.stringify(window.monar_SETTINGS))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.hidePrStuff=function(){r.parseHtmlPullRequests().forEach((function(e){var t,n=!1;e.title.includes("WIP")&&(null===(t=window.monar_SETTINGS)||void 0===t?void 0:t.hideWip)&&(n=!0),e.element.children().css("opacity",n?.2:1)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseHtmlPullRequests=function(){var e=[];return $("li.merge-request").each((function(){var t=$(this),n=$(".merge-request-title-text a",t),r=$(".issuable-reference",t),o=$(".issuable-info .author-link",t),a=$(".project-ref-path .ref-name",t),i=$(".issuable-pipeline-broken a",t),s=$(".issuable-upvotes",t),l=$(".issuable-downvotes",t),u=$(".issuable-comments",t),c=$('.issuable-info .badge:contains("approved")',t),d=$('.issuable-info .badge:contains("system")',t),p=$(".issuable-meta .author-link",t),m=$(".issuable-pipeline-status",t),g=$(".issuable-updated-at",t),f=$(".issuable-status",t),h=$(".issuable-authored",t);n.data("monar-title")||n.data("monar-title",n.text().trim()),e.push({element:t,titleElement:n,title:n.data("monar-title"),idElement:r,id:r.text().trim().substring(1),authorElement:o,author:{username:o.data("username").trim(),name:o.data("name").trim(),id:o.data("userId")},bottomTextElement:h,targetElement:a,target:a.text().trim(),conflictElement:i,hasConflict:i[0],upvoteElement:s,upvoteCount:s.text().trim(),isUpvoted:parseInt(s.text().trim(),10)>0,downvoteElement:l,commentsElement:u,commentsCount:u.text().trim(),approveElement:c,isApproved:c[0],isSystem:d[0],statusElement:f,status:f.text().trim(),reviewerElement:p,pipelineElement:m,updatedAtElement:g})})),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(0);!function(e){e.getMergeRequestDiscussions=function(e){var t=r.getProjectId(),n=new o.Deferred;return $.ajax("/api/v4/projects/"+t+"/merge_requests/"+e+"/discussions").then((function(e){n.resolve(e)})).catch(n.reject),n.promise},e.createMergeRequestThread=function(e,t){var n=r.getProjectId(),a=new o.Deferred;return $.ajax({url:"/api/v4/projects/"+n+"/merge_requests/"+e+"/discussions",method:"POST",data:{body:t}}).then((function(e){a.resolve(e)})).catch(a.reject),a.promise},e.modifyMergeRequestNote=function(e,t,n,a){var i=r.getProjectId(),s=new o.Deferred;return $.ajax({url:"/api/v4/projects/"+i+"/merge_requests/"+e+"/discussions/"+t+"/notes/"+n,method:"PUT",data:{body:a}}).then((function(e){s.resolve(e)})).catch(s.reject),s.promise},e.resolveMergeRequestThread=function(e,t,n){var a=r.getProjectId(),i=new o.Deferred;return $.ajax({url:"/api/v4/projects/"+a+"/merge_requests/"+e+"/discussions/"+t,method:"PUT",data:{resolved:n}}).then((function(e){i.resolve(e)})).catch(i.reject),i.promise}}(t.GitlabDiscussions||(t.GitlabDiscussions={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.getGradientColor=function(e,t,n){e=e.replace(/^\s*#|\s*$/g,""),t=t.replace(/^\s*#|\s*$/g,""),3==e.length&&(e=e.replace(/(.)/g,"$1$1")),3==t.length&&(t=t.replace(/(.)/g,"$1$1"));var r=parseInt(e.substr(0,2),16),o=parseInt(e.substr(2,2),16),a=parseInt(e.substr(4,2),16),i=parseInt(t.substr(0,2),16),s=parseInt(t.substr(2,2),16)-o,l=parseInt(t.substr(4,2),16)-a,u=((i-r)*n+r).toString(16).split(".")[0],c=(s*n+o).toString(16).split(".")[0],d=(l*n+a).toString(16).split(".")[0];return 1==u.length&&(u="0"+u),1==c.length&&(c="0"+c),1==d.length&&(d="0"+d),"#"+u+c+d},e.isContrastingColorDark=function(e){return Math.round((299*e.r+587*e.g+114*e.b)/1e3)>180},e.getRGBValues=function(e){var t;"#"===e.charAt(0)&&(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),e="rgb("+parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16)+")");var n=e.match(/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return{r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10)}}}(t.Colors||(t.Colors={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=!1;t.createFeebasCommitButtons=function(){if(o)var e=setInterval((function(){0!==$("#commits-list").length&&(clearInterval(e),$("#commits-list li .commit-actions").each((function(){var e=$(this),t=$('[data-title="Copy commit SHA to clipboard"]',e).data("clipboard-text"),n="monar-feebas-"+t,o="feebas://app:"+t;e.append('<a title="Open in Feebas" id="'+n+'" href="'+o+'"></a>'),$("#"+n).css(r.CONSTS_CSS("feebas")),$("#"+n).css("margin-left","15px"),$("#"+n).mouseenter((function(){$(this).css("background-color","#1aaa55")})).mouseleave((function(){$(this).css("background-color","transparent")}))})))}),500)},t.createMainFeebasMergeRequestButton=function(){if(o&&0===$("#monar-feebas-main").length){var e="feebas://app:"+window.gl.mrWidgetData.diff_head_sha;$(".mr-state-widget.prepend-top-default").append('<a title="Open in Feebas" id="monar-feebas-main" href="'+e+'"></a>'),$("#monar-feebas-main").css(r.CONSTS_CSS("feebas")),$("#monar-feebas-main").css({position:"absolute",right:"0px",top:"-45px"}),$("#monar-feebas-main").mouseenter((function(){$(this).css("background-color","#1aaa55")})).mouseleave((function(){$(this).css("background-color","transparent")}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(11);!function(e){e.toggleCommitApproval=function(e,t,n){return o.CommentParser.fetchMergeRequestCommentData(e).then((function(){var e,a,i,s,l;if(!window.monar_MR_DATA)return Promise.reject("toggleCommitApproval: no monar_MR_DATA");window.monar_MR_DATA.approvals=null!=(e=window.monar_MR_DATA.approvals)?e:{},window.monar_MR_DATA.approvals[t]=null!=(a=window.monar_MR_DATA.approvals[t])?a:[],n?window.monar_MR_DATA.approvals[t].push({username:window.monar_GLOBALS.username,name:window.monar_GLOBALS.name,avatar:window.monar_GLOBALS.avatar}):window.monar_MR_DATA.approvals[t]=window.monar_MR_DATA.approvals[t].filter((function(e){return e.username!==window.monar_GLOBALS.username}));var u=new r.Deferred;return o.CommentParser.saveMergeRequestCommentData(null===(l=null===(s=null===(i=window)||void 0===i?void 0:i.gl)||void 0===s?void 0:s.mrWidgetData)||void 0===l?void 0:l.iid).then((function(){u.resolve()})).catch(u.reject),u.promise}))},e.isApprovedByYou=function(e){var t,n;return!!window.monar_MR_DATA&&(window.monar_MR_DATA.approvals=null!=(t=window.monar_MR_DATA.approvals)?t:{},window.monar_MR_DATA.approvals[e]=null!=(n=window.monar_MR_DATA.approvals[e])?n:[],window.monar_MR_DATA.approvals[e].some((function(e){return e.username===window.monar_GLOBALS.username})))},function(e){e.markApprovedCommits=function(){var e,t,n;if(null===(n=null===(t=null===(e=window)||void 0===e?void 0:e.gl)||void 0===t?void 0:t.mrWidgetData)||void 0===n?void 0:n.iid){var r=setInterval(o,1e3);o()}function o(){if(0!==$("#commits li.commit").length&&window.monar_MR_DATA){clearInterval(r);var e=window.monar_MR_DATA.approvals||{};$("#commits li.commit").each((function(){var t=this,n=$(".commit-sha-group button",this).attr("data-clipboard-text")||"";(e[n]||[]).forEach((function(e,r){var o="monar-approve-commit-photo-"+n+"-"+r,a='<div class="'+o+'"><div style="width: 100%; height: 100%; background-size: contain;"></div></div>',i={display:"block",width:"32px",height:"32px","background-color":"gray","background-size":"contain","border-radius":"50%",overflow:"hidden",border:"2px solid #69D100",position:"absolute",top:"6px",right:36*r+215+"px"},s=$("."+o,$(t));s[0]||($(".commit-actions",$(t)).css("position","relative"),$(".commit-actions",$(t)).prepend(a),s=$("."+o,$(t))),s.css(i),s.css("background-image","url("+window.monar_GLOBALS.defaultAvatar+")"),$("div",s).css("background-image","url('"+e.avatar+"?width=44')"),$("div",s).attr("title",e.name)}))}))}}}}(e.GUI||(e.GUI={}))}(t.CommitApprovals||(t.CommitApprovals={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7);!function(e){var t="---\n",n="***GENERATED BY GITLAB PLUGIN, DO NOT MODIFY BY HAND***\n"+t;function a(e){return(e||"").startsWith(n)}var i="**My commit approvals:**\n";function s(e){if(!a(e))return[];var n=(e.split(t)||[]).find((function(e){return(e||"").startsWith(i)}));if(!n)return[];var r=n.split("\n");return r.shift(),r.pop(),r.map((function(e){return(e||"").replace(/\s*\*\s*/g,"")})).filter(Boolean)}e.saveMergeRequestCommentData=function(e){if(!e)return Promise.resolve();if(!window.monar_MR_DATA)return Promise.reject("toggleCommitApproval: no monar_MR_DATA");var r,a,s=window.monar_MR_DATA.approvals||{},l=Object.keys(s).filter((function(e){return(s[e]||[]).some((function(e){return e.username===window.monar_GLOBALS.username}))})),u=(a=n,(r=l)&&r.length>0&&(a+=i,(r||[]).forEach((function(e){a+="*  "+e+"\n"})),a+=t),a);return window.monar_MR_DATA.yourNoteId&&window.monar_MR_DATA.yourDiscussionId?o.GitlabDiscussions.modifyMergeRequestNote(e,window.monar_MR_DATA.yourDiscussionId,window.monar_MR_DATA.yourNoteId,u).then((function(){})):o.GitlabDiscussions.createMergeRequestThread(e,u).then((function(t){return o.GitlabDiscussions.resolveMergeRequestThread(e,t.id,!0).then((function(){}))}))},e.fetchMergeRequestCommentData=function(e){if(!e)return Promise.resolve(void 0);var t=new r.Deferred,n={approvals:{},yourNoteId:null,yourDiscussionId:null};return o.GitlabDiscussions.getMergeRequestDiscussions(e).then((function(e){(e||[]).forEach((function(e){(e.notes||[]).forEach((function(t){var r,o=a(r=t.body)?{approvedCommits:s(r)}:null;o&&(t.author&&t.author.username===window.monar_GLOBALS.username&&(n.yourNoteId=t.id,n.yourDiscussionId=e.id),(o.approvedCommits||[]).forEach((function(e){n.approvals[e]=n.approvals[e]||[],n.approvals[e].push({username:t.author.username,avatar:t.author.avatar_url,name:t.author.name})})))}))})),window.monar_MR_DATA=n,t.resolve(n)})),t.promise}}(t.CommentParser||(t.CommentParser={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(13)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(1),a=n(4),i=n(5),s=n(6),l=n(15),u=n(16),c=n(18),d=n(19),p=n(20),m=n(22),g=n(24),f=n(25),h=n(11),v=n(26).Changelog.createOpenChangelogButton,b=n(28);window.toggleUntaggedMerges=p.toggleUntaggedMerges,window.hidePrStuff=i.hidePrStuff;var w=0;!function e(){var t,n,i;window.gon&&window.gl&&window.gl.projectOptions?(window.monar={},window.monar_GLOBALS={id:window.gon.current_user_id,username:window.gon.current_username,name:window.gon.current_user_fullname,avatar:window.gon.current_user_avatar_url,defaultAvatar:window.gon.default_avatar_url,untaggedMerges:[],project:window.gl.projectOptions[Object.keys(window.gl.projectOptions)[0]].issuesPath?window.gl.projectOptions[Object.keys(window.gl.projectOptions)[0]].issuesPath.replace("/issues",""):"",projectId:o.getProjectId(),internalUsername:"user.of.system",MR_LIMITS:{warning:15,danger:28,blink:38}},a.loadSettings(),window.monar_GLOBALS.project&&(g.addCustomStyles(),Promise.all([h.CommentParser.fetchMergeRequestCommentData(null===(i=null===(n=null===(t=window)||void 0===t?void 0:t.gl)||void 0===n?void 0:n.mrWidgetData)||void 0===i?void 0:i.iid),b.BranchingVersions.initialize()]).then((function(){v(),s.parseHtmlPullRequests().forEach(r.formatPullRequest),m.prettifyPullRequestPage(),d.prettifyCommitList(),l.prettifyCreatePullRequestPage(),b.BranchingVersions.fetchMoreDetails().then((function(){return u.addBadges()})),c.colorMergeRequestNumbers(),f.prettifyPullRequestCommitPage()})))):++w<5&&setTimeout((function(){return e()}),50)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(2),a=n(4),i=n(5),s=n(7),l=n(8);t.formatPullRequest=function(e){var t=r.getProjectId();if($('li[data-original-title="Approvals"], li[title="Approvals"]',e.element).remove(),0===$("#monar-pull-requests-buttons").length){$(".top-area").css("position","relative"),$(".top-area").append('<div id="monar-pull-requests-buttons" style="display: inline-block; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%)"></div>'),$("#monar-pull-requests-buttons").append('<a id="monar-pull-requests-buttons-hide-wip" href="javascript:void(0)" class="btn btn-sm btn-missing">Hide WIP</a>'),$("#monar-pull-requests-buttons-hide-wip").on("click",(function(){window.monar_SETTINGS.hideWip=!window.monar_SETTINGS.hideWip,$("#monar-pull-requests-buttons-hide-wip").toggleClass("btn-missing",!window.monar_SETTINGS.hideWip),$("#monar-pull-requests-buttons-hide-wip").toggleClass("btn-info",window.monar_SETTINGS.hideWip),$("#monar-pull-requests-buttons-hide-wip").blur(),a.saveSettings(),i.hidePrStuff()})),$("#monar-pull-requests-buttons-hide-wip").toggleClass("btn-missing",!window.monar_SETTINGS.hideWip),$("#monar-pull-requests-buttons-hide-wip").toggleClass("btn-info",window.monar_SETTINGS.hideWip),i.hidePrStuff();var n=window.monar_GLOBALS.project+"/merge_requests?scope=all&utf8=%E2%9C%93&state=opened&author_username="+window.monar_GLOBALS.username;$("#monar-pull-requests-buttons").append('<a style="margin-left: 10px" id="monar-pull-requests-buttons-show-mine" href="'+n+'" class="btn btn-sm btn-success">Show mine</a>');var u=window.monar_GLOBALS.project+"/merge_requests?scope=all&utf8=✓&state=opened&assignee_username="+window.monar_GLOBALS.username;$("#monar-pull-requests-buttons").append('<a style="margin-left: 10px" id="monar-pull-requests-buttons-show-my-rev" href="'+u+'" class="btn btn-sm btn-warning">Assigned to me</a>');var c=window.monar_GLOBALS.project+"/merge_requests?scope=all&utf8=✓&state=opened&assignee_id=None&wip=no";$("#monar-pull-requests-buttons").append('<a style="margin-left: 10px" id="monar-pull-requests-buttons-show-without-rev" href="'+c+'" class="btn btn-sm btn-danger">Without assignee</a>')}for(var d=0,p=Object.entries(window.monar.versionData.versionData);d<p.length;d++){var m=p[d],g=(m[0],m[1]);e.target===g.branch.name&&(e.targetElement.css(o.CONSTS_CSS("markedTarget")),e.targetElement.css("background",g.color),e.targetElement.css("color","black"),l.Colors.isContrastingColorDark(l.Colors.getRGBValues(g.color))||e.targetElement.css("color","white"))}var f=$(".monar-author-photo",e.element);f[0]||($(".issuable-info-container",e.element).prepend(o.CONSTS_STRINGS("authorPhotoHTML")),f=$(".monar-author-photo",e.element)),f.css(o.CONSTS_CSS("authorPhoto")),f.css("background-image","url("+window.monar_GLOBALS.defaultAvatar+")"),$("div",f).css("background-image","url('/uploads/-/system/user/avatar/"+e.author.id+"/avatar.png?width=44')"),e.titleElement.css(o.CONSTS_CSS("titleBase"));var h=e.title;if(h=(h=(h=(h=(h=(h=(h=(h=(h=(h=(h=(h=(h=(h=(h=(h=h.replace(/^Resolve/g,"")).replace(/(APP-\d*)/g,"<b>$1</b>")).replace(/(APPT-\d*)/g,"<b>$1</b>")).replace(/(CMP-\d*)/g,"<b>$1</b>")).replace(/(DB-\d*)/g,"<b>$1</b>")).replace(/(FIX)/g,"<b>$1</b>")).replace(/(QA-\d*)/g,"<b>$1</b>")).replace(/(SEC-\d*)/g,"<b>$1</b>")).replace(/(DP-\d*)/g,"<b>$1</b>")).replace(/(PRED-\d*)/g,"<b>$1</b>")).replace(/(FRON-\d*)/g,"<b>$1</b>")).replace(/(STYL-\d*)/g,"<b>$1</b>")).replace(/(WE-\d*)/g,"<b>$1</b>")).replace(/(ANL-\d*)/g,"<b>$1</b>")).replace(/\[([^\]]+)\]/gi,'<b style="background-color: rgba(0,255,255,0.5); color: black;">[$1]</b>')).replace(/WIP(:?)/g,'<b style="color: red;">WIP$1</b>'),e.titleElement.html(h),e.titleElement.css({display:"inline-block","max-width":"440px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}),e.isUpvoted&&e.upvoteElement.css(o.CONSTS_CSS("upvoteIcon")),e.downvoteElement[0]&&e.downvoteElement.css(o.CONSTS_CSS("downvoteIcon")),e.hasConflict&&e.conflictElement.css(o.CONSTS_CSS("conflictIcon")),e.isSystem&&e.element.css(o.CONSTS_CSS("systemBg")),e.isApproved&&e.element.css(o.CONSTS_CSS("approvedBg")),e.reviewerElement[0]&&($("img",e.reviewerElement).css(o.CONSTS_CSS("reviewerPhoto")),e.reviewerElement.css(o.CONSTS_CSS("reviewerWrapper")),e.reviewerElement.each((function(e){$(this).css("right",parseInt($(this).css("right"))+30*e+"px")}))),e.pipelineElement[0]&&e.pipelineElement.css(o.CONSTS_CSS("pipelineWrapper")),e.commentsCount<1?e.commentsElement.remove():e.commentsElement.css(o.CONSTS_CSS("commentsWrapper")),e.updatedAtElement[0]&&e.updatedAtElement.css(o.CONSTS_CSS("updatedAtWrapper")),e.statusElement[0]&&(e.statusElement.css("color","MERGED"===e.status?"green":"red"),e.statusElement.css(o.CONSTS_CSS("statusWrapper"))),e.bottomTextElement[0]&&(e.bottomTextElement.html(e.bottomTextElement.html().replace("opened","")),e.bottomTextElement.html(e.bottomTextElement.html().replace("by","·"))),$("time",e.element)[0]&&$("time",e.element).each((function(){$(this).html($(this).html().replace("just now","now").replace(" minutes","m").replace(" minute","m").replace(" hours","h").replace(" hour","h").replace(" days","d").replace(" day","d").replace(" weeks","w").replace(" week","w").replace(" months","mon").replace(" month","mon"))})),null!==t){var v=0;s.GitlabDiscussions.getMergeRequestDiscussions(e.id).then((function(t){(t||[]).forEach((function(e){if(e.notes&&e.notes[0]){var t=e.notes[0];t.resolvable&&!t.resolved&&v++}})),v>0&&$("a",e.commentsElement).prepend('<span style="color: red;"><i aria-hidden="true" data-hidden="true" class="fa fa-crosshairs"></i><span>'+v+"</span></span>&nbsp;&nbsp;&nbsp;")})).catch((function(e){console.log(e.responseJSON)})),$.ajax(window.monar_GLOBALS.project+"/merge_requests/"+e.id+"/diffs.json?w=0").then((function(t){var n=t.size,r=t.added_lines,a=t.removed_lines,i='\n                    <div style="display: inline-block; position: absolute; left: 525px;">\n                    '+o.CONSTS_STRINGS("changed").replace(o.REPLACE,n)+"\n                    "+o.CONSTS_STRINGS("added").replace(o.REPLACE,r)+"\n                    "+o.CONSTS_STRINGS("removed").replace(o.REPLACE,a)+"\n                    </div>\n                ";$(".merge-request-title.title",e.element).append(i)})).catch((function(e){console.log(e)})),$.ajax("/api/v4/projects/"+t+"/merge_requests/"+e.id+"/approvals").then((function(t){(t.approved_by||[]).forEach((function(t,n){var r="monar-approve-photo-"+(t=t.user).id,o='<div class="'+r+'"><div style="width: 100%; height: 100%; background-size: contain;"></div></div>',a={display:"block",width:"24px",height:"24px","background-color":"gray","background-size":"contain","border-radius":"50%",overflow:"hidden",border:"2px solid #69D100",position:"absolute",top:"34px",right:30*n+215+"px"},i=$("."+r,e.element);i[0]||($(".issuable-info-container",e.element).prepend(o),i=$("."+r,e.element)),i.css(a),i.css("background-image","url("+window.monar_GLOBALS.defaultAvatar+")"),$("div",i).css("background-image","url('"+t.avatar_url+"?width=44')"),$("div",i).attr("title",t.name)})),t.approved_by.length>=(t.approvals_required||1)&&e.element.css(o.CONSTS_CSS("approvedBg"))})).catch((function(e){console.log(e.responseJSON)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);function o(){var e=[];if($(".qa-issuable-label").closest(".issuable-form-select-holder").find('input[type="hidden"]').each((function(){e.push($(this).attr("value")||"")})),$('[data-monar="CUSTOM_LABEL_BUTTON"]').each((function(){var t=$(this).attr("data-id")||"-";e.includes(t)?($(this).css("opacity",1),$("span",this).css("border-color","rgba(0,0,0,0.8)")):($(this).css("opacity",.5),$("span",this).css("border-color","transparent"))})),r.isFrontend()){var t=e.includes(a),n=e.includes(i)||e.includes(s),o=Math.max(1,(t?1:0)+(n?1:0));$(".js-approvals-required input").val(o),$('input[name="merge_request[approval_rules_attributes][][approvals_required]"]').val(o)}}t.prettifyCreatePullRequestPage=function(){var e=document.querySelector(".form-control.qa-issuable-form-title");if(e){var t=/Resolve (.*?) \"(.*?)\"/g.exec(e.value);t&&3===t.length&&(e.value=t[1]+" "+t[2])}$(".qa-issuable-label").trigger("click"),$(".qa-issuable-label").trigger("click"),0===$("#MONAR_CUSTOM_LABEL_BUTTONS").length&&($(".qa-issuable-label").closest(".col-sm-10").append('\n            <div id="MONAR_CUSTOM_LABEL_BUTTONS"\n                style="\n                    display: inline-block;\n                    margin-left: 25px;\n                    max-width: 500px;\n                    vertical-align: top;\n                    "\n            ></div>\n        '),function e(){var t=0;setTimeout((function(){0!==$(".dropdown-menu-labels .label-item").length?($(".dropdown-menu-labels .label-item").on("click",(function(){setTimeout((function(){o()}))})),$(".dropdown-menu-labels .dropdown-clear-active").on("click",(function(){setTimeout((function(){o()}))})),$(".dropdown-menu-labels .label-item").each((function(){var e=$(this).text().trim(),t=$("span",this).attr("style"),n=$(this).attr("data-label-id");"dev review"===e?a=n||"x":"design review"===e?i=n||"x":"style review"===e&&(s=n||"x");var r='\n                <a class="label-link" data-id="'+n+'" data-monar="CUSTOM_LABEL_BUTTON" style="cursor: pointer; margin-bottom: 10px; margin-right: 5px;">\n                    <span class="badge color-label" style="'+t+'; height: 26px; line-height: 22px; border: 3px solid transparent;">\n                        '+e+"\n                    </span>\n                </a>\n            ";$("#MONAR_CUSTOM_LABEL_BUTTONS").append(r),$('[data-id="'+n+'"][data-monar="CUSTOM_LABEL_BUTTON"]').on("click",(function(){$('.dropdown-menu-labels .label-item[data-label-id="'+n+'"]').trigger("click"),o()}))})),o()):++t<20&&e()}),50)}())};var a="x",i="x",s="x"},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(17);function a(e,t){return"https://img.shields.io/badge/"+t+"-"+({running:"running",pending:"pending",success:"passed",failed:"failed",canceled:"canceled",skipped:"skipped",nightly:"nightly",latest:"latest",undefined:"unknown",branches:"branches",tags:"tags"}[e]||"")+"-"+({running:"blue",pending:"blue",success:"brightgreen",failed:"red",canceled:"lightgrey",skipped:"lightgrey",nightly:"orange",latest:"orange",undefined:"lightgrey",branches:"orange",tags:"orange"}[e]||"brightgreen")+".svg"}t.addBadges=function(){var e,t,n,i;if(!o.isPullRequestViewPage()&&window.monar_GLOBALS.projectId&&(null===(e=window.monar.versionData)||void 0===e?void 0:e.versionData)&&0===$("#monar-pipelines-global").length){var s="";s+='<table style="display: inline-block">',s+="<tr>",s+='<td style="padding-left: 10px; text-align: right;">\n                    <img src="'+a("branches","")+'" alt="Branches" />\n                    </td>';for(var l=0,u=r(window.monar.versionData.versions,["master"]);l<u.length;l++){var c=u[l];s+='\n                <td style="padding-left: 10px; text-align: left;">\n                    <a href="'+(null===(t=(f=window.monar.versionData.versionData[c]).pipeline)||void 0===t?void 0:t.web_url)+'">\n                        <img src="'+a(null===(n=f.pipeline)||void 0===n?void 0:n.status,f.branch.name)+'" alt="'+f.branch.name+'" />\n                    </a>\n                </td>\n            '}if(s+="</tr>",Object.values(window.monar.versionData.versionData).filter((function(e){return e.tag})).length){s+="<tr>",s+='<td style="padding-left: 10px; text-align: right;">\n                    <img src="'+a("tags","")+'" alt="Branches" />\n                    </td>';for(var d=0,p=r(window.monar.versionData.versions,["master"]);d<p.length;d++){c=p[d];(f=window.monar.versionData.versionData[c]).tag?s+='\n                <td style="padding-left: 10px; text-align: left;">\n                    <a href="'+window.monar_GLOBALS.project+"/tags/"+f.tag.name+'">\n                        <img src="'+a(null===(i=f.tag)||void 0===i?void 0:i.name,f.tag.name)+'" alt="'+f.tag.name+'" />\n                    </a>\n                </td>\n            ':s+='<td style="padding-left: 10px; text-align: left;"></td>'}s+="</tr>"}if(Object.values(window.monar.versionData.versionData).filter((function(e){return e.nightly})).length){s+="<tr>",s+='<td style="padding-left: 10px; text-align: right;">\n                    <img src="'+a("nightly","")+'" alt="nightly" />\n                    </td>';for(var m=0,g=r(window.monar.versionData.versions,["master"]);m<g.length;m++){var f;c=g[m];s+='<td style="padding-left: 10px; text-align: left;">',(f=window.monar.versionData.versionData[c]).nightly&&(s+='\n                <a href="'+f.nightly.web_url+'">\n                    <img src="'+a(f.nightly.status,f.nightly.ref)+'" alt="'+f.nightly.ref+'" />\n                </a>\n                '),s+="</td>"}s+="</tr>"}s+="</table>",$("nav.breadcrumbs .breadcrumbs-container").append('\n            <div style="margin-top: -10px; margin-bottom: -10px;" id="monar-pipelines-global">\n                '+s+"\n            </div>\n        ")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPullRequestViewPage=function(){return 1===$("#content-body .merge-request .merge-request-details").length}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.colorMergeRequestNumbers=function(){$(".merge_counter, #state-opened .badge").each((function(){var e=parseInt($(this).text(),10),t=e<window.monar_GLOBALS.MR_LIMITS.warning?"green":e<window.monar_GLOBALS.MR_LIMITS.danger?"orange":"red";$(this).css("background-color",r.CONSTS_STRINGS(t)),$(this).css("color","white"),e>=window.monar_GLOBALS.MR_LIMITS.blink&&$(this).css("animation","monar_background_blink .75s ease-in-out infinite alternate")}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(9);t.prettifyCommitList=function(){r.isFrontend()&&o.createFeebasCommitButtons()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),o=n(2);t.toggleUntaggedMerges=function(e){if(0===arguments.length&&(e=$("#monar_untagged_merges_panel").is(":hidden")||0===$("#monar_untagged_merges_panel").length),e){if($("#content-body").fadeOut(o.FADE_SPEED),$("#monar_untagged_merges_panel").fadeIn(o.FADE_SPEED),0===$("#monar_untagged_merges_panel").length){var t=window.monar_GLOBALS.untaggedMerges||[],n=r.getJiraUrl(),a='<div id="monar_untagged_merges_panel" style="padding: 20px">';a+='<h3 style="padding-bottom: 20px">Untagged merges ('+t.length+")",a+='<a href="javascript:toggleUntaggedMerges(false)" style="margin-left: 16px; font-size: 14px;">(close)</a>',a+="</h3>",a+='<table style="width: 100%">',t.forEach((function(e){var t=e.title.match(/'([\S]*)'/),r=(t=t||e.message.match(/'([\S]*)'/))?t[1]:"UNKNOWN",o=(t=r.match(/^([^ -]*-\d*)/))?t[1]:"",i=new Date(e.created_at);a+="<tr>",a+='<td><a href="'+n+"/browse/"+o+'">'+o+"</a></td>",a+='<td><a href="'+window.monar_GLOBALS.project+"/commit/"+e.id+'">'+r+"</a></td>",a+="<td>"+e.short_id+"</td>",a+="<td>"+e.author_name+"</td>",a+="<td>"+i.toDateString()+"</td>",a+="<td>"+i.toLocaleTimeString()+"</td>",a+="</tr>"})),a+="</table>",a+="</div>",$("#content-body").parent().append(a)}}else $("#content-body").fadeIn(o.FADE_SPEED),$("#monar_untagged_merges_panel").fadeOut(o.FADE_SPEED)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJiraUrl=function(){return $(".shortcuts-external_tracker").attr("href")||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),o=n(3),a=n(9),i=n(10);t.prettifyPullRequestPage=function(){if(r.isPullRequestsListPage()){$(".approvals-required-text.text-muted").remove(),$(".mr-section-container.mr-widget-workflow .mr-widget-footer").remove(),$(".mr-widget-heading.mr-widget-workflow .ci-widget-content").remove(),$(".mr-state-widget.prepend-top-default").css("position","relative");var e=$(".ci-widget.media").closest(".mr-widget-heading.mr-widget-workflow");e.css({position:"absolute",right:"70px",top:"-15px",border:"none"}),$(".ci-widget-container",e).insertBefore($(".align-self-start",e)),$(".align-self-start",e).css({"margin-left":"15px","margin-right":0}),e.addClass("remove-before"),$(".diverged-commits-count").contents().filter((function(){return 3==this.nodeType})).remove(),$(".diverged-commits-count").css("font-size","10px"),$(".git-merge-container .normal strong").contents().filter((function(){return"Request to merge"===$(this).text().trim()})).remove(),$(".js-check-out-branch").insertAfter($(".branch-actions ul.dropdown-menu li:last-child")),$(".js-check-out-branch").removeClass("btn"),$(".js-check-out-branch").wrap("<li></li>"),$(".js-web-ide").insertAfter($(".branch-actions ul.dropdown-menu li:last-child")),$(".js-web-ide").removeClass("btn"),$(".js-web-ide").wrap("<li></li>"),$(".branch-actions ul.dropdown-menu").css("overflow","hidden"),$(".emoji-list-container .awards").css("opacity",.1).css("border-bottom","none"),$(".emoji-list-container .awards").mouseenter((function(){$(this).css("opacity",1)})).mouseleave((function(){$(this).css("opacity",.1)})),o.isFrontend()&&window.gl.mrWidgetData&&(a.createMainFeebasMergeRequestButton(),a.createFeebasCommitButtons());var t=0;t=0,function e(){var n=$(".detail-page-header-actions.js-issuable-actions .issue-btn-group"),r=$('[data-qa-selector="approve_button"]').clone(!0,!0);if(0!==r.length)n.prepend(r),r.css({float:"left"}),r.removeClass("btn-sm"),r.attr("data-qa-selector","-"),r.on("click",(function(){var n=this;$('[data-qa-selector="approve_button"]').trigger("click"),$(this).off("click"),$(this).addClass("disabled"),setTimeout((function(){$(n).remove(),t=0,e()}),1e3)}));else{if(++t>10)return;setTimeout((function(){e()}),100)}}(),i.CommitApprovals.GUI.markApprovedCommits(),setInterval((function(){$(".err").removeClass("err")}),500)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPullRequestsListPage=function(){return 1===$("div.merge-request").length}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCustomStyles=function(){if(0===$("#monar-styles").length){document.head.insertAdjacentHTML("beforeend",'<style id="monar-styles">\n                .remove-before::before{display: none !important;} .remove-after::after{display: none !important;}\n\n                @keyframes monar_background_blink {\n                    100% {\n                    background-color: rgba(0,0,0,0);\n\n                    }\n                }\n\n                .monar-glow {\n                  color: #fff;\n                  -webkit-animation: monar-glow 1s ease-in-out infinite alternate;\n                  -moz-animation: monar-glow 1s ease-in-out infinite alternate;\n                  animation: monar-glow 1s ease-in-out infinite alternate;\n                }\n\n                @-webkit-keyframes monar-glow {\n                  from {\n                    text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #e60073, 0 0 40px #e6000b, 0 0 50px #e60073, 0 0 60px #e60073, 0 0 70px #e60073;\n                  }\n                  to {\n                    text-shadow: 0 0 20px #fff, 0 0 30px #ff4da6, 0 0 40px #ff4da6, 0 0 50px #ff4da6, 0 0 60px #ff4da6, 0 0 70px #ff4da6, 0 0 80px #ff4da6;\n                  }\n                }\n            </style>')}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);function o(){var e=/commit_id=([0-9a-zA-Z]+)/.exec(location.search);return e?e[1]:""}t.prettifyPullRequestCommitPage=function(){o()&&function e(){if(!window.gl||!window.gl.mrWidgetData||!window.gl.mrWidgetData.iid)return;if(!window.monar_MR_DATA)return;var t=o(),n=r.CommitApprovals.isApprovedByYou(t);$("#MONAR_APPROVE_COMMIT").remove();var a=$('\n        <button id="MONAR_APPROVE_COMMIT" type="button" class="btn '+(n?"btn-warning btn-inverted":"btn-primary")+'" variant="primary" size="sm" style="float: right;">\n            '+(n?"Revoke commit approval":"Approve commit")+"\n        </button>\n    ");a.on("click",(function(){$(this).off("click"),$(this).addClass("disabled"),r.CommitApprovals.toggleCommitApproval(window.gl.mrWidgetData.iid,t,!n).then((function(){e()}))})),$(".detail-page-description").prepend(a)}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),o=n(2);!function(e){var t="MONAR_CHANGELOG_LAST_SEEN_ENTRY";function n(){if($("#monar_changelog_panel").is(":hidden")||0===$("#monar_changelog_panel").length){if(0===$("#monar_changelog_panel").length){var e=$('\n<div id="monar_changelog_panel"\n    style="display: none; position: fixed; left: 0; right: 0; bottom: 0; top: 40px; background: rgba(0,0,0,0.8); z-index: 9999;"\n>\n    <div style="background: white; left: 50%; top: 40px; width: 70%; bottom: 40px; transform: translateX(-50%); border-radius: 4px; position: absolute; overflow: hidden;">\n        <div id="monar_changelog_close_button" style="position: absolute; right: 0; top: 0; color: black; cursor: pointer; font-weight: bold; padding: 10px 20px;">\n            X\n        </div>\n        <h1 style="text-align: center; font-size: 20px; margin-top: 8px; margin-bottom: -12px;">\n            Changelog\n        </h1>\n        <div id="monar_changelog_contents" style="padding: 0 20px 20px 20px; overflow: auto; height: calc(100% - 20px);">\n\n        </div>\n    </div>\n</div>\n                ');$("body").append(e),$("#monar_changelog_close_button").on("click",(function(){n()})),r.changelogNotes.forEach((function(e){$("#monar_changelog_contents").append('\n                        <hr>\n                        <div>\n                            <div style="display: inline-block; vertical-align: top; margin-right: 20px; font-weight: bold; color: #de7e00;">'+e.date+'</div>\n                            <div style="display: inline-block; vertical-align: top;">'+e.text+"</div>\n                        </div>\n                    ")}));document.head.insertAdjacentHTML("beforeend",'\n                    <style id="monar-styles-changelog">\n                        #monar_changelog_contents h1 {\n                            margin-top: 0;\n                            font-size: 20px;\n                            margin-bottom: 8px;\n                        }\n\n                        #monar_changelog_contents p {\n                            margin-bottom: 8px;\n                        }\n                    </style>')}$("#monar_changelog_panel").fadeIn(o.FADE_SPEED)}else $("#monar_changelog_panel").fadeOut(o.FADE_SPEED)}e.createOpenChangelogButton=function(){if(!($("#monar_open_changelog_button").length>0)){var e=$('\n            <div id="#monar_open_changelog_button" style="position: absolute; left: 50%; transform: translateX(-50%); z-index: 1;">\n                <ul class="navbar-sub-nav list-unstyled">\n                    <li>\n                        <button class="btn">\n                            Changelog\n                        </button>\n                    </li>\n                </ul>\n            </div>\n        '),o=parseInt(localStorage.getItem(t)||"0",10)<r.changelogNotes.length;$("button",e).toggleClass("monar-glow",o),$("button",e).on("click",(function(){$(this).removeClass("monar-glow"),localStorage.setItem(t,""+r.changelogNotes.length),n()})),$("header.navbar").prepend(e)}},e.toggleChangelog=n}(t.Changelog||(t.Changelog={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changelogNotes=[{date:"04.07.2020",text:"\n<h1>Changes</h1>\n<ul>\n    <li>Nightly pipeline badges brought back to action</li>\n</ul>\n        "},{date:"26.06.2020",text:'\n<h1>Changes</h1>\n<ul>\n    <li><b>FE only:</b> Automatically set "No. approvals required" based on labels</li>\n</ul>\n        '},{date:"25.05.2020",text:"\n<h1>Changes</h1>\n<ul>\n    <li>New branching strategy is here</li>\n    <li>The goose has been captured and moved to a pond</li>\n</ul>\n        "},{date:"16.03.2020",text:"\n<h1>Bugfixes</h1>\n<ul>\n    <li>Attempt to fix approve button after gitlab update</li>\n</ul>\n        "},{date:"22.01.2020",text:"\n<h1>Bugfixes</h1>\n<ul>\n    <li>Nightly pipeline badges used by FE repository should be working correctly again</li>\n</ul>\n        "},{date:"18.01.2020",text:"\n<h1>Commit approvals</h1>\n<p>\n    You can now approve separate commits in Merge Request.\n</p>\n<p>\n    Please use this just a simple helping tool and do not rely on it for actual code review. For proper MR approving still use the actual gitlab approve button.\n</p>\n        "}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),o=n(0),a=n(30),i=n(8),s=n(31);!function(e){function t(e){return!!e.match(/^v1\.\d+$/)}function n(e){return parseInt(e.match(/^v1\.(\d+)$/)[1],10)}e.initialize=function(){var e={versions:[],versionData:{},minVersion:5e3,maxVersion:-1};return r.GitlabBranches.getBranches("^v1.").then((function(r){r.forEach((function(r){var o=r.name;if(t(o)){var a=n(o);e.versions.push(a),e.versions.sort(),e.maxVersion=Math.max(a,e.maxVersion),e.minVersion=Math.min(a,e.minVersion),e.versionData[a]={branch:r,color:"transparent"}}}))})).then((function(){return r.GitlabBranches.getBranches("^master").then((function(t){var n=t[0];e.versionData[n.name]={branch:n,color:"transparent"}}))})).then((function(){window.monar.versionData=e,window.monar.versionData.versions.forEach((function(t,n){e.versionData[t].color=i.Colors.getGradientColor("#F00","#FF0",Math.min(Math.max(1/(e.versions.length-1)*n,0),1))}))}))},e.fetchMoreDetails=function(){var e;if(!(null===(e=window.monar)||void 0===e?void 0:e.versionData))return Promise.reject();for(var r=new o.Deferred,i=[],l=[],u=function(e,t){i.push(a.GitlabPipelines.getPipelines({ref:t.branch.name}).then((function(t){return{version:e,pipeline:t[0]}}))),l.push(s.GitlabTags.getTags("^"+t.branch.name).then((function(t){return{version:e,tag:t[0]}})))},c=0,d=Object.entries(window.monar.versionData.versionData);c<d.length;c++){var p=d[c];u(p[0],p[1])}return Promise.all(i).then((function(e){return e.forEach((function(e){window.monar.versionData.versionData[e.version].pipeline=e.pipeline}))})).then((function(){return Promise.all(l)})).then((function(e){return e.forEach((function(e){window.monar.versionData.versionData[e.version].tag=e.tag}))})).then((function(){return a.GitlabPipelines.getPipelineSchedules()})).then((function(e){return Promise.all(e.map((function(e){return a.GitlabPipelines.getPipelineSchedule(e.id)})))})).then((function(e){return e.map((function(e){return e.last_pipeline}))})).then((function(e){return e.forEach((function(e){if(t(e.ref)||"master"===e.ref){var r=t(e.ref)?n(e.ref):"master";window.monar.versionData.versionData[r].nightly=e}}))})).then((function(){return r.resolve()})),r.promise}}(t.BranchingVersions||(t.BranchingVersions={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(0);!function(e){e.getBranches=function(e){void 0===e&&(e="");var t=r.getProjectId(),n=new o.Deferred;return $.ajax("/api/v4/projects/"+t+"/repository/branches?search="+e).then((function(e){n.resolve(e)})).catch(n.reject),n.promise}}(t.GitlabBranches||(t.GitlabBranches={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(0);!function(e){e.getPipelineSchedules=function(){var e=r.getProjectId(),t=new o.Deferred;return $.ajax("/api/v4/projects/"+e+"/pipeline_schedules").then((function(e){t.resolve(e)})).catch(t.reject),t.promise},e.getPipelineSchedule=function(e){var t=r.getProjectId(),n=new o.Deferred;return $.ajax("/api/v4/projects/"+t+"/pipeline_schedules/"+e).then((function(e){n.resolve(e)})).catch(n.reject),n.promise},e.getPipelines=function(e){void 0===e&&(e={});var t=r.getProjectId(),n=new o.Deferred;return $.ajax({url:"/api/v4/projects/"+t+"/pipelines",data:e}).then((function(e){n.resolve(e)})).catch(n.reject),n.promise}}(t.GitlabPipelines||(t.GitlabPipelines={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(0);!function(e){e.getTags=function(e){void 0===e&&(e="");var t=r.getProjectId(),n=new o.Deferred;return $.ajax("/api/v4/projects/"+t+"/repository/tags?search="+e).then((function(e){n.resolve(e)})).catch(n.reject),n.promise}}(t.GitlabTags||(t.GitlabTags={}))}]);