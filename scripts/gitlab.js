!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.then=function(e,t){return this.promise.then(e,t)},e.prototype.catch=function(e){return this.promise.catch(e)},e.prototype.finally=function(e){throw new Error("NOT IMPLEMENTED")},e}();t.Deferred=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectId=function(){return $("#search_project_id")[0]?$("#search_project_id")[0].value:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSTS_STRINGS=function(e){return r[e]},t.CONSTS_CSS=function(e){return a[e]},t.REPLACE="{{REPLACE}}",t.FADE_SPEED=200;var r={green:"#1aaa55",red:"#db3b21",orange:"#fc9403",blue:"#1f78d1",changed:'\n        <div class="diff-stats-group" style="display: inline-block; transform: scale(0.8);">\n            <strong>~'+t.REPLACE+"</strong>\n        </div>",added:'\n        <div class="diff-stats-group cgreen" style="display: inline-block; transform: scale(0.8);">\n            <strong>+'+t.REPLACE+"</strong>\n        </div>",removed:'\n        <div class="diff-stats-group cred" style="display: inline-block; transform: scale(0.8);">\n            <strong>-'+t.REPLACE+"</strong>\n        </div>",authorPhotoHTML:'<div class="monar-author-photo"><div style="width: 100%; height: 100%; background-size: contain;"></div></div>'},a={feebas:{"background-image":'url("https://github.com/timzatko/feebas/blob/master/packages/desktop_app/src/favicon.256x256.png?raw=true")',"background-repeat":"no-repeat","background-size":"contain","background-origin":"content-box",padding:"4px",width:"40px",height:"40px","border-radius":"50%",border:"1px solid #1aaa55","box-sizing":"border-box","background-color":"transparent"},markedTarget:{"border-radius":"3px",display:"inline-block",padding:"0 4px 0 2px"},upvoteIcon:{color:"green",position:"absolute",right:"280px",top:"11px","margin-right":"0"},downvoteIcon:{color:"red",position:"absolute",right:"330px",top:"11px","margin-right":"0"},conflictIcon:{color:"red",position:"absolute",right:"40px",top:"13px"},authorPhoto:{"margin-top":"10px",display:"block",width:"24px",height:"24px","background-color":"gray","background-size":"contain","border-radius":"50%","margin-right":"15px",overflow:"hidden"},reviewerPhoto:{width:"24px",height:"24px"},reviewerWrapper:{position:"absolute",right:"70px",top:"8px"},pipelineWrapper:{position:"absolute",right:"15px","margin-right":0,top:"12px"},commentsWrapper:{position:"absolute",right:"200px",top:"11px"},updatedAtWrapper:{position:"absolute",opacity:"0.5",right:"15px",bottom:"8px"},titleBase:{color:"rgb(0, 82, 204)","font-weight":"normal"},statusWrapper:{position:"absolute",right:"100px",top:"11px"},approvedBg:{"background-color":"rgba(105, 209, 0, 0.05)"},systemBg:{"background-color":"rgba(66, 139, 202, 0.05)"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFrontend=function(){return"/app/frontend"===window.monar_GLOBALS.project}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadSettings=function(){var e=localStorage.getItem("monar_SETTINGS");window.monar_SETTINGS=e?JSON.parse(e):{hideWip:!0}},t.saveSettings=function(){localStorage.setItem("monar_SETTINGS",JSON.stringify(window.monar_SETTINGS))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.hidePrStuff=function(){r.parseHtmlPullRequests().forEach((function(e){var t,n=!1;e.title.includes("WIP")&&(null===(t=window.monar_SETTINGS)||void 0===t?void 0:t.hideWip)&&(n=!0),e.element.children().css("opacity",n?.2:1)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseHtmlPullRequests=function(){var e=[];return $("li.merge-request").each((function(){var t=$(this),n=$(".merge-request-title-text a",t),r=$(".issuable-reference",t),a=$(".issuable-info .author-link",t),o=$(".project-ref-path .ref-name",t),i=$(".issuable-pipeline-broken a",t),s=$(".issuable-upvotes",t),l=$(".issuable-downvotes",t),c=$(".issuable-comments",t),u=$('.issuable-info .badge:contains("approved")',t),d=$('.issuable-info .badge:contains("system")',t),p=$(".issuable-meta .author-link",t),m=$(".issuable-pipeline-status",t),g=$(".issuable-updated-at",t),f=$(".issuable-status",t),v=$(".issuable-authored",t),h=$(".task-status",t);n.data("monar-title")||n.data("monar-title",n.text().trim()),e.push({element:t,titleElement:n,title:n.data("monar-title"),idElement:r,id:r.text().trim().substring(1),authorElement:a,author:{username:a.data("username").trim(),name:a.data("name").trim(),id:a.data("userId")},bottomTextElement:v,targetElement:o,target:o.text().trim(),conflictElement:i,hasConflict:i[0],upvoteElement:s,upvoteCount:s.text().trim(),isUpvoted:parseInt(s.text().trim(),10)>0,downvoteElement:l,commentsElement:c,commentsCount:c.text().trim(),approveElement:u,isApproved:u[0],isSystem:d[0],statusElement:f,status:f.text().trim(),reviewerElement:p,pipelineElement:m,updatedAtElement:g,tasksElement:h})})),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0);!function(e){e.getMergeRequestDiscussions=function(e){var t=r.getProjectId(),n=new a.Deferred;return $.ajax("/api/v4/projects/"+t+"/merge_requests/"+e+"/discussions").then((function(e){n.resolve(e)})).catch(n.reject),n.promise},e.createMergeRequestThread=function(e,t){var n=r.getProjectId(),o=new a.Deferred;return $.ajax({url:"/api/v4/projects/"+n+"/merge_requests/"+e+"/discussions",method:"POST",data:{body:t}}).then((function(e){o.resolve(e)})).catch(o.reject),o.promise},e.modifyMergeRequestNote=function(e,t,n,o){var i=r.getProjectId(),s=new a.Deferred;return $.ajax({url:"/api/v4/projects/"+i+"/merge_requests/"+e+"/discussions/"+t+"/notes/"+n,method:"PUT",data:{body:o}}).then((function(e){s.resolve(e)})).catch(s.reject),s.promise},e.resolveMergeRequestThread=function(e,t,n){var o=r.getProjectId(),i=new a.Deferred;return $.ajax({url:"/api/v4/projects/"+o+"/merge_requests/"+e+"/discussions/"+t,method:"PUT",data:{resolved:n}}).then((function(e){i.resolve(e)})).catch(i.reject),i.promise}}(t.GitlabDiscussions||(t.GitlabDiscussions={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.getGradientColor=function(e,t,n){e=e.replace(/^\s*#|\s*$/g,""),t=t.replace(/^\s*#|\s*$/g,""),3==e.length&&(e=e.replace(/(.)/g,"$1$1")),3==t.length&&(t=t.replace(/(.)/g,"$1$1"));var r=parseInt(e.substr(0,2),16),a=parseInt(e.substr(2,2),16),o=parseInt(e.substr(4,2),16),i=parseInt(t.substr(0,2),16),s=parseInt(t.substr(2,2),16)-a,l=parseInt(t.substr(4,2),16)-o,c=((i-r)*n+r).toString(16).split(".")[0],u=(s*n+a).toString(16).split(".")[0],d=(l*n+o).toString(16).split(".")[0];return 1==c.length&&(c="0"+c),1==u.length&&(u="0"+u),1==d.length&&(d="0"+d),"#"+c+u+d},e.isContrastingColorDark=function(e){return Math.round((299*e.r+587*e.g+114*e.b)/1e3)>180},e.getRGBValues=function(e){var t;"#"===e.charAt(0)&&(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),e="rgb("+parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16)+")");var n=e.match(/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return{r:parseInt(n[1],10),g:parseInt(n[2],10),b:parseInt(n[3],10)}}}(t.Colors||(t.Colors={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=!1;t.createFeebasCommitButtons=function(){if(a)var e=setInterval((function(){0!==$("#commits-list").length&&(clearInterval(e),$("#commits-list li .commit-actions").each((function(){var e=$(this),t=$('[data-title="Copy commit SHA to clipboard"]',e).data("clipboard-text"),n="monar-feebas-"+t,a="feebas://app:"+t;e.append('<a title="Open in Feebas" id="'+n+'" href="'+a+'"></a>'),$("#"+n).css(r.CONSTS_CSS("feebas")),$("#"+n).css("margin-left","15px"),$("#"+n).mouseenter((function(){$(this).css("background-color","#1aaa55")})).mouseleave((function(){$(this).css("background-color","transparent")}))})))}),500)},t.createMainFeebasMergeRequestButton=function(){if(a&&0===$("#monar-feebas-main").length){var e="feebas://app:"+window.gl.mrWidgetData.diff_head_sha;$(".mr-state-widget.prepend-top-default").append('<a title="Open in Feebas" id="monar-feebas-main" href="'+e+'"></a>'),$("#monar-feebas-main").css(r.CONSTS_CSS("feebas")),$("#monar-feebas-main").css({position:"absolute",right:"0px",top:"-45px"}),$("#monar-feebas-main").mouseenter((function(){$(this).css("background-color","#1aaa55")})).mouseleave((function(){$(this).css("background-color","transparent")}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(11);!function(e){e.toggleCommitApproval=function(e,t,n){return a.CommentParser.fetchMergeRequestCommentData(e).then((function(){var e,o,i,s,l;if(!window.monar_MR_DATA)return Promise.reject("toggleCommitApproval: no monar_MR_DATA");window.monar_MR_DATA.approvals=null!=(e=window.monar_MR_DATA.approvals)?e:{},window.monar_MR_DATA.approvals[t]=null!=(o=window.monar_MR_DATA.approvals[t])?o:[],n?window.monar_MR_DATA.approvals[t].push({username:window.monar_GLOBALS.username,name:window.monar_GLOBALS.name,avatar:window.monar_GLOBALS.avatar}):window.monar_MR_DATA.approvals[t]=window.monar_MR_DATA.approvals[t].filter((function(e){return e.username!==window.monar_GLOBALS.username}));var c=new r.Deferred;return a.CommentParser.saveMergeRequestCommentData(null===(l=null===(s=null===(i=window)||void 0===i?void 0:i.gl)||void 0===s?void 0:s.mrWidgetData)||void 0===l?void 0:l.iid).then((function(){c.resolve()})).catch(c.reject),c.promise}))},e.isApprovedByYou=function(e){var t,n;return!!window.monar_MR_DATA&&(window.monar_MR_DATA.approvals=null!=(t=window.monar_MR_DATA.approvals)?t:{},window.monar_MR_DATA.approvals[e]=null!=(n=window.monar_MR_DATA.approvals[e])?n:[],window.monar_MR_DATA.approvals[e].some((function(e){return e.username===window.monar_GLOBALS.username})))},function(e){e.markApprovedCommits=function(){var e,t,n;if(null===(n=null===(t=null===(e=window)||void 0===e?void 0:e.gl)||void 0===t?void 0:t.mrWidgetData)||void 0===n?void 0:n.iid){var r=setInterval(a,1e3);a()}function a(){if(0!==$("#commits li.commit").length&&window.monar_MR_DATA){clearInterval(r);var e=window.monar_MR_DATA.approvals||{};$("#commits li.commit").each((function(){var t=this,n=$(".commit-sha-group button",this).attr("data-clipboard-text")||"";(e[n]||[]).forEach((function(e,r){var a="monar-approve-commit-photo-"+n+"-"+r,o='<div class="'+a+'"><div style="width: 100%; height: 100%; background-size: contain;"></div></div>',i={display:"block",width:"32px",height:"32px","background-color":"gray","background-size":"contain","border-radius":"50%",overflow:"hidden",border:"2px solid #69D100",position:"absolute",top:"6px",right:36*r+215+"px"},s=$("."+a,$(t));s[0]||($(".commit-actions",$(t)).css("position","relative"),$(".commit-actions",$(t)).prepend(o),s=$("."+a,$(t))),s.css(i),s.css("background-image","url("+window.monar_GLOBALS.defaultAvatar+")"),$("div",s).css("background-image","url('"+e.avatar+"?width=44')"),$("div",s).attr("title",e.name)}))}))}}}}(e.GUI||(e.GUI={}))}(t.CommitApprovals||(t.CommitApprovals={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(7);!function(e){var t="---\n",n="***GENERATED BY GITLAB PLUGIN, DO NOT MODIFY BY HAND***\n"+t;function o(e){return(e||"").startsWith(n)}var i="**My commit approvals:**\n";function s(e){if(!o(e))return[];var n=(e.split(t)||[]).find((function(e){return(e||"").startsWith(i)}));if(!n)return[];var r=n.split("\n");return r.shift(),r.pop(),r.map((function(e){return(e||"").replace(/\s*\*\s*/g,"")})).filter(Boolean)}e.saveMergeRequestCommentData=function(e){if(!e)return Promise.resolve();if(!window.monar_MR_DATA)return Promise.reject("toggleCommitApproval: no monar_MR_DATA");var r,o,s=window.monar_MR_DATA.approvals||{},l=Object.keys(s).filter((function(e){return(s[e]||[]).some((function(e){return e.username===window.monar_GLOBALS.username}))})),c=(o=n,(r=l)&&r.length>0&&(o+=i,(r||[]).forEach((function(e){o+="*  "+e+"\n"})),o+=t),o);return window.monar_MR_DATA.yourNoteId&&window.monar_MR_DATA.yourDiscussionId?a.GitlabDiscussions.modifyMergeRequestNote(e,window.monar_MR_DATA.yourDiscussionId,window.monar_MR_DATA.yourNoteId,c).then((function(){})):a.GitlabDiscussions.createMergeRequestThread(e,c).then((function(t){return a.GitlabDiscussions.resolveMergeRequestThread(e,t.id,!0).then((function(){}))}))},e.fetchMergeRequestCommentData=function(e){if(!e)return Promise.resolve(void 0);var t=new r.Deferred,n={approvals:{},yourNoteId:null,yourDiscussionId:null};return a.GitlabDiscussions.getMergeRequestDiscussions(e).then((function(e){(e||[]).forEach((function(e){(e.notes||[]).forEach((function(t){var r,a=o(r=t.body)?{approvedCommits:s(r)}:null;a&&(t.author&&t.author.username===window.monar_GLOBALS.username&&(n.yourNoteId=t.id,n.yourDiscussionId=e.id),(a.approvedCommits||[]).forEach((function(e){n.approvals[e]=n.approvals[e]||[],n.approvals[e].push({username:t.author.username,avatar:t.author.avatar_url,name:t.author.name})})))}))})),window.monar_MR_DATA=n,t.resolve(n)})),t.promise}}(t.CommentParser||(t.CommentParser={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0);!function(e){e.getPipelineSchedules=function(){var e=r.getProjectId(),t=new a.Deferred;return $.ajax("/api/v4/projects/"+e+"/pipeline_schedules").then((function(e){t.resolve(e)})).catch(t.reject),t.promise},e.getPipelineSchedule=function(e){var t=r.getProjectId(),n=new a.Deferred;return $.ajax("/api/v4/projects/"+t+"/pipeline_schedules/"+e).then((function(e){n.resolve(e)})).catch(n.reject),n.promise},e.getPipelinesForMR=function(e){var t=r.getProjectId(),n=new a.Deferred;return $.ajax("/api/v4/projects/"+t+"/merge_requests/"+e+"/pipelines").then((function(e){n.resolve(e)})).catch(n.reject),n.promise},e.getPipelines=function(e){void 0===e&&(e={});var t=r.getProjectId(),n=new a.Deferred;return $.ajax({url:"/api/v4/projects/"+t+"/pipelines",data:e}).then((function(e){n.resolve(e)})).catch(n.reject),n.promise}}(t.GitlabPipelines||(t.GitlabPipelines={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHashVariables=function(){var e=location.hash;"#"===e[0]&&(e=e.substr(1,e.length));var t={};return e.split("~&~").forEach((function(e){var n=e.split("~=~");n[0]&&(t[n[0]]=n[1])})),t},t.createHashString=function(e){var t="";return Object.keys(e).forEach((function(n){t+=n+"~=~"+e[n]+"~&~"})),t?"#"+t:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(15)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),a=n(1),o=n(4),i=n(5),s=n(6),l=n(17),c=n(18),u=n(20),d=n(21),p=n(22),m=n(24),g=n(28),f=n(29),v=n(11),h=n(30).Changelog.createOpenChangelogButton,b=n(32),_=n(35);window.toggleUntaggedMerges=p.toggleUntaggedMerges,window.hidePrStuff=i.hidePrStuff;var w=0;!function e(){var t,n,i;window.gon&&window.gl&&window.gl.projectOptions?(window.monar={},window.monar_GLOBALS={id:window.gon.current_user_id,username:window.gon.current_username,name:window.gon.current_user_fullname,avatar:window.gon.current_user_avatar_url,defaultAvatar:window.gon.default_avatar_url,untaggedMerges:[],project:window.gl.projectOptions[Object.keys(window.gl.projectOptions)[0]].issuesPath?window.gl.projectOptions[Object.keys(window.gl.projectOptions)[0]].issuesPath.replace("/issues",""):"",projectId:a.getProjectId(),internalUsername:"user.of.system",MR_LIMITS:{warning:15,danger:28,blink:38}},o.loadSettings(),window.monar_GLOBALS.project&&(g.addCustomStyles(),Promise.all([v.CommentParser.fetchMergeRequestCommentData(null===(i=null===(n=null===(t=window)||void 0===t?void 0:t.gl)||void 0===n?void 0:n.mrWidgetData)||void 0===i?void 0:i.iid),b.BranchingVersions.initialize()]).then((function(){h(),s.parseHtmlPullRequests().forEach(r.formatPullRequest),m.prettifyPullRequestPage(),d.prettifyCommitList(),l.prettifyCreatePullRequestPage(),b.BranchingVersions.fetchMoreDetails().then((function(){return c.addBadges()})),u.colorMergeRequestNumbers(),f.prettifyPullRequestCommitPage(),_.enhanceE2eCreatePipelineScreen()})))):++w<5&&setTimeout((function(){return e()}),50)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(2),o=n(4),i=n(5),s=n(7),l=n(8);t.formatPullRequest=function(e){var t=r.getProjectId();if($('li[data-original-title="Approvals"], li[title="Approvals"]',e.element).remove(),0===$("#monar-pull-requests-buttons").length){$(".top-area").css("position","relative"),$(".top-area").append('<div id="monar-pull-requests-buttons" style="display: inline-block; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%)"></div>'),$("#monar-pull-requests-buttons").append('<a id="monar-pull-requests-buttons-hide-wip" href="javascript:void(0)" class="btn btn-sm btn-missing">Hide WIP</a>'),$("#monar-pull-requests-buttons-hide-wip").on("click",(function(){window.monar_SETTINGS.hideWip=!window.monar_SETTINGS.hideWip,$("#monar-pull-requests-buttons-hide-wip").toggleClass("btn-missing",!window.monar_SETTINGS.hideWip),$("#monar-pull-requests-buttons-hide-wip").toggleClass("btn-info",window.monar_SETTINGS.hideWip),$("#monar-pull-requests-buttons-hide-wip").blur(),o.saveSettings(),i.hidePrStuff()})),$("#monar-pull-requests-buttons-hide-wip").toggleClass("btn-missing",!window.monar_SETTINGS.hideWip),$("#monar-pull-requests-buttons-hide-wip").toggleClass("btn-info",window.monar_SETTINGS.hideWip),i.hidePrStuff();var n=window.monar_GLOBALS.project+"/merge_requests?scope=all&utf8=%E2%9C%93&state=opened&author_username="+window.monar_GLOBALS.username;$("#monar-pull-requests-buttons").append('<a style="margin-left: 10px" id="monar-pull-requests-buttons-show-mine" href="'+n+'" class="btn btn-sm btn-success">Show mine</a>');var c=window.monar_GLOBALS.project+"/merge_requests?scope=all&utf8=✓&state=opened&assignee_username="+window.monar_GLOBALS.username;$("#monar-pull-requests-buttons").append('<a style="margin-left: 10px" id="monar-pull-requests-buttons-show-my-rev" href="'+c+'" class="btn btn-sm btn-warning">Assigned to me</a>');var u=window.monar_GLOBALS.project+"/merge_requests?scope=all&utf8=✓&state=opened&assignee_id=None&wip=no";$("#monar-pull-requests-buttons").append('<a style="margin-left: 10px" id="monar-pull-requests-buttons-show-without-rev" href="'+u+'" class="btn btn-sm btn-danger">Without assignee</a>')}for(var d=0,p=Object.entries(window.monar.versionData.versionData);d<p.length;d++){var m=p[d],g=(m[0],m[1]);e.target===g.branch.name&&(e.targetElement.css(a.CONSTS_CSS("markedTarget")),e.targetElement.css("background",g.color),e.targetElement.css("color","black"),l.Colors.isContrastingColorDark(l.Colors.getRGBValues(g.color))||e.targetElement.css("color","white"))}var f=$(".monar-author-photo",e.element);f[0]||($(".issuable-info-container",e.element).prepend(a.CONSTS_STRINGS("authorPhotoHTML")),f=$(".monar-author-photo",e.element)),f.css(a.CONSTS_CSS("authorPhoto")),f.css("background-image","url("+window.monar_GLOBALS.defaultAvatar+")"),$("div",f).css("background-image","url('/uploads/-/system/user/avatar/"+e.author.id+"/avatar.png?width=44')"),e.titleElement.css(a.CONSTS_CSS("titleBase"));var v=e.title;if(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=(v=v.replace(/^Resolve/g,"")).replace(/(APP-\d*)/g,"<b>$1</b>")).replace(/(APPT-\d*)/g,"<b>$1</b>")).replace(/(CMP-\d*)/g,"<b>$1</b>")).replace(/(DB-\d*)/g,"<b>$1</b>")).replace(/(FIX)/g,"<b>$1</b>")).replace(/(QA-\d*)/g,"<b>$1</b>")).replace(/(SEC-\d*)/g,"<b>$1</b>")).replace(/(DP-\d*)/g,"<b>$1</b>")).replace(/(PRED-\d*)/g,"<b>$1</b>")).replace(/(FRON-\d*)/g,"<b>$1</b>")).replace(/(E2E-\d*)/g,"<b>$1</b>")).replace(/(STYL-\d*)/g,"<b>$1</b>")).replace(/(WE-\d*)/g,"<b>$1</b>")).replace(/(ANL-\d*)/g,"<b>$1</b>")).replace(/\[([^\]]+)\]/gi,'<b style="background-color: rgba(0,255,255,0.5); color: black;">[$1]</b>')).replace(/WIP(:?)/g,'<b style="color: red;">WIP$1</b>'),e.titleElement.html(v),e.titleElement.css({display:"inline-block","max-width":"440px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}),e.isUpvoted&&e.upvoteElement.css(a.CONSTS_CSS("upvoteIcon")),e.downvoteElement[0]&&e.downvoteElement.css(a.CONSTS_CSS("downvoteIcon")),e.hasConflict&&e.conflictElement.css(a.CONSTS_CSS("conflictIcon")),e.isSystem&&e.element.css(a.CONSTS_CSS("systemBg")),e.isApproved&&e.element.css(a.CONSTS_CSS("approvedBg")),e.reviewerElement[0]&&($("img",e.reviewerElement).css(a.CONSTS_CSS("reviewerPhoto")),e.reviewerElement.css(a.CONSTS_CSS("reviewerWrapper")),e.reviewerElement.each((function(e){$(this).css("right",parseInt($(this).css("right"))+30*e+"px")}))),e.pipelineElement[0]&&e.pipelineElement.css(a.CONSTS_CSS("pipelineWrapper")),e.commentsCount<1?e.commentsElement.remove():e.commentsElement.css(a.CONSTS_CSS("commentsWrapper")),e.updatedAtElement[0]&&e.updatedAtElement.css(a.CONSTS_CSS("updatedAtWrapper")),e.statusElement[0]&&(e.statusElement.css("color","MERGED"===e.status?"green":"red"),e.statusElement.css(a.CONSTS_CSS("statusWrapper"))),e.bottomTextElement[0]&&(e.bottomTextElement.html(e.bottomTextElement.html().replace("opened","")),e.bottomTextElement.html(e.bottomTextElement.html().replace("by","·"))),$("time",e.element)[0]&&$("time",e.element).each((function(){$(this).html($(this).html().replace("just now","now").replace(" minutes","m").replace(" minute","m").replace(" hours","h").replace(" hour","h").replace(" days","d").replace(" day","d").replace(" weeks","w").replace(" week","w").replace(" months","mon").replace(" month","mon"))})),null!==t){var h=0;s.GitlabDiscussions.getMergeRequestDiscussions(e.id).then((function(t){(t||[]).forEach((function(e){if(e.notes&&e.notes[0]){var t=e.notes[0];t.resolvable&&!t.resolved&&h++}})),h>0&&$("a",e.commentsElement).prepend('<span style="color: red;"><i aria-hidden="true" data-hidden="true" class="fa fa-crosshairs"></i><span>'+h+"</span></span>&nbsp;&nbsp;&nbsp;")})).catch((function(e){console.log(e.responseJSON)}));var b=/(\d+) of (\d+).*/g.exec(e.tasksElement.text().trim());if(b){e.tasksElement.css({opacity:"0"});var _=parseInt(b[1],10),w=parseInt(b[2],10),y=_>=w?"color: #1aaa55":"";$(".merge-request-title.title",e.element).append('<span style="position: absolute; top: 11px; right: 330px; font-weight: normal; '+y+'"><i aria-hidden="true" data-hidden="true" class="fa fa-check-square-o"></i> <span>'+_+"/"+w+"</span></span>&nbsp;&nbsp;&nbsp;")}$.ajax(window.monar_GLOBALS.project+"/merge_requests/"+e.id+"/diffs.json?w=0").then((function(t){var n=t.size,r=t.added_lines,o=t.removed_lines,i='\n                    <div style="display: inline-block; position: absolute; left: 525px;">\n                    '+a.CONSTS_STRINGS("changed").replace(a.REPLACE,n)+"\n                    "+a.CONSTS_STRINGS("added").replace(a.REPLACE,r)+"\n                    "+a.CONSTS_STRINGS("removed").replace(a.REPLACE,o)+"\n                    </div>\n                ";$(".merge-request-title.title",e.element).append(i)})).catch((function(e){console.log(e)})),$.ajax("/api/v4/projects/"+t+"/merge_requests/"+e.id+"/approvals").then((function(t){(t.approved_by||[]).forEach((function(t,n){var r="monar-approve-photo-"+(t=t.user).id,a='<div class="'+r+'"><div style="width: 100%; height: 100%; background-size: contain;"></div></div>',o={display:"block",width:"24px",height:"24px","background-color":"gray","background-size":"contain","border-radius":"50%",overflow:"hidden",border:"2px solid #69D100",position:"absolute",top:"34px",right:30*n+215+"px"},i=$("."+r,e.element);i[0]||($(".issuable-info-container",e.element).prepend(a),i=$("."+r,e.element)),i.css(o),i.css("background-image","url("+window.monar_GLOBALS.defaultAvatar+")"),$("div",i).css("background-image","url('"+t.avatar_url+"?width=44')"),$("div",i).attr("title",t.name)})),t.approved_by.length>=(t.approvals_required||1)&&e.element.css(a.CONSTS_CSS("approvedBg"))})).catch((function(e){console.log(e.responseJSON)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);function a(){var e=[];if($(".qa-issuable-label").closest(".issuable-form-select-holder").find('input[type="hidden"]').each((function(){e.push($(this).attr("value")||"")})),$('[data-monar="CUSTOM_LABEL_BUTTON"]').each((function(){var t=$(this).attr("data-id")||"-";e.includes(t)?($(this).css("opacity",1),$("span",this).css("border-color","rgba(0,0,0,0.8)")):($(this).css("opacity",.5),$("span",this).css("border-color","transparent"))})),r.isFrontend()){var t=e.includes(o),n=e.includes(i)||e.includes(s),a=Math.max(1,(t?1:0)+(n?1:0));$(".js-approvals-required input").val(a),$('input[name="merge_request[approval_rules_attributes][][approvals_required]"]').val(a)}}t.prettifyCreatePullRequestPage=function(){var e=document.querySelector(".form-control.qa-issuable-form-title");if(e){var t=/Resolve (.*?) \"(.*?)\"/g.exec(e.value);t&&3===t.length&&(e.value=t[1]+" "+t[2])}$(".qa-issuable-label").trigger("click"),$(".qa-issuable-label").trigger("click"),0===$("#MONAR_CUSTOM_LABEL_BUTTONS").length&&($(".qa-issuable-label").closest(".col-sm-10").append('\n            <div id="MONAR_CUSTOM_LABEL_BUTTONS"\n                style="\n                    display: inline-block;\n                    margin-left: 25px;\n                    max-width: 500px;\n                    vertical-align: top;\n                    "\n            ></div>\n        '),function e(){var t=0;setTimeout((function(){0!==$(".dropdown-menu-labels .label-item").length?($(".dropdown-menu-labels .label-item").on("click",(function(){setTimeout((function(){a()}))})),$(".dropdown-menu-labels .dropdown-clear-active").on("click",(function(){setTimeout((function(){a()}))})),$(".dropdown-menu-labels .label-item").each((function(){var e=$(this).text().trim(),t=$("span",this).attr("style"),n=$(this).attr("data-label-id");"dev review"===e?o=n||"x":"design review"===e?i=n||"x":"style review"===e&&(s=n||"x");var r='\n                <a class="label-link" data-id="'+n+'" data-monar="CUSTOM_LABEL_BUTTON" style="cursor: pointer; margin-bottom: 10px; margin-right: 5px;">\n                    <span class="badge color-label" style="'+t+'; height: 26px; line-height: 22px; border: 3px solid transparent;">\n                        '+e+"\n                    </span>\n                </a>\n            ";$("#MONAR_CUSTOM_LABEL_BUTTONS").append(r),$('[data-id="'+n+'"][data-monar="CUSTOM_LABEL_BUTTON"]').on("click",(function(){$('.dropdown-menu-labels .label-item[data-label-id="'+n+'"]').trigger("click"),a()}))})),a()):++t<20&&e()}),50)}())};var o="x",i="x",s="x"},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(19);function o(e,t){return"https://img.shields.io/badge/"+t+"-"+({running:"running",pending:"pending",success:"passed",failed:"failed",canceled:"canceled",skipped:"skipped",nightly:"nightly",latest:"latest",undefined:"unknown",branches:"branches",tags:"tags"}[e]||"")+"-"+({running:"blue",pending:"blue",success:"brightgreen",failed:"red",canceled:"lightgrey",skipped:"lightgrey",nightly:"orange",latest:"orange",undefined:"lightgrey",branches:"orange",tags:"orange"}[e]||"brightgreen")+".svg"}t.addBadges=function(){var e,t,n,i;if(!a.isPullRequestViewPage()&&window.monar_GLOBALS.projectId&&(null===(e=window.monar.versionData)||void 0===e?void 0:e.versionData)&&0===$("#monar-pipelines-global").length){var s="";s+='<table style="display: inline-block">',s+="<tr>",s+='<td style="padding-left: 10px; text-align: right;">\n                    <img src="'+o("branches","")+'" alt="Branches" />\n                    </td>';for(var l=0,c=r(window.monar.versionData.versions,["master"]);l<c.length;l++){var u=c[l];s+='\n                <td style="padding-left: 10px; text-align: left;">\n                    <a href="'+(null===(t=(f=window.monar.versionData.versionData[u]).pipeline)||void 0===t?void 0:t.web_url)+'">\n                        <img src="'+o(null===(n=f.pipeline)||void 0===n?void 0:n.status,f.branch.name)+'" alt="'+f.branch.name+'" />\n                    </a>\n                </td>\n            '}if(s+="</tr>",Object.values(window.monar.versionData.versionData).filter((function(e){return e.tag})).length){s+="<tr>",s+='<td style="padding-left: 10px; text-align: right;">\n                    <img src="'+o("tags","")+'" alt="Branches" />\n                    </td>';for(var d=0,p=r(window.monar.versionData.versions,["master"]);d<p.length;d++){u=p[d];(f=window.monar.versionData.versionData[u]).tag?s+='\n                <td style="padding-left: 10px; text-align: left;">\n                    <a href="'+window.monar_GLOBALS.project+"/tags/"+f.tag.name+'">\n                        <img src="'+o(null===(i=f.tag)||void 0===i?void 0:i.name,f.tag.name)+'" alt="'+f.tag.name+'" />\n                    </a>\n                </td>\n            ':s+='<td style="padding-left: 10px; text-align: left;"></td>'}s+="</tr>"}if(Object.values(window.monar.versionData.versionData).filter((function(e){return e.nightly})).length){s+="<tr>",s+='<td style="padding-left: 10px; text-align: right;">\n                    <img src="'+o("nightly","")+'" alt="nightly" />\n                    </td>';for(var m=0,g=r(window.monar.versionData.versions,["master"]);m<g.length;m++){var f;u=g[m];s+='<td style="padding-left: 10px; text-align: left;">',(f=window.monar.versionData.versionData[u]).nightly&&(s+='\n                <a href="'+f.nightly.web_url+'">\n                    <img src="'+o(f.nightly.status,f.nightly.ref)+'" alt="'+f.nightly.ref+'" />\n                </a>\n                '),s+="</td>"}s+="</tr>"}s+="</table>",$("nav.breadcrumbs .breadcrumbs-container").append('\n            <div style="margin-top: -10px; margin-bottom: -10px;" id="monar-pipelines-global">\n                '+s+"\n            </div>\n        ")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPullRequestViewPage=function(){return 1===$("#content-body .merge-request .merge-request-details").length}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.colorMergeRequestNumbers=function(){$(".merge_counter, #state-opened .badge").each((function(){var e=parseInt($(this).text(),10),t=e<window.monar_GLOBALS.MR_LIMITS.warning?"green":e<window.monar_GLOBALS.MR_LIMITS.danger?"orange":"red";$(this).css("background-color",r.CONSTS_STRINGS(t)),$(this).css("color","white"),e>=window.monar_GLOBALS.MR_LIMITS.blink&&$(this).css("animation","monar_background_blink .75s ease-in-out infinite alternate")}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(9);t.prettifyCommitList=function(){r.isFrontend()&&a.createFeebasCommitButtons()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),a=n(2);t.toggleUntaggedMerges=function(e){if(0===arguments.length&&(e=$("#monar_untagged_merges_panel").is(":hidden")||0===$("#monar_untagged_merges_panel").length),e){if($("#content-body").fadeOut(a.FADE_SPEED),$("#monar_untagged_merges_panel").fadeIn(a.FADE_SPEED),0===$("#monar_untagged_merges_panel").length){var t=window.monar_GLOBALS.untaggedMerges||[],n=r.getJiraUrl(),o='<div id="monar_untagged_merges_panel" style="padding: 20px">';o+='<h3 style="padding-bottom: 20px">Untagged merges ('+t.length+")",o+='<a href="javascript:toggleUntaggedMerges(false)" style="margin-left: 16px; font-size: 14px;">(close)</a>',o+="</h3>",o+='<table style="width: 100%">',t.forEach((function(e){var t=e.title.match(/'([\S]*)'/),r=(t=t||e.message.match(/'([\S]*)'/))?t[1]:"UNKNOWN",a=(t=r.match(/^([^ -]*-\d*)/))?t[1]:"",i=new Date(e.created_at);o+="<tr>",o+='<td><a href="'+n+"/browse/"+a+'">'+a+"</a></td>",o+='<td><a href="'+window.monar_GLOBALS.project+"/commit/"+e.id+'">'+r+"</a></td>",o+="<td>"+e.short_id+"</td>",o+="<td>"+e.author_name+"</td>",o+="<td>"+i.toDateString()+"</td>",o+="<td>"+i.toLocaleTimeString()+"</td>",o+="</tr>"})),o+="</table>",o+="</div>",$("#content-body").parent().append(o)}}else $("#content-body").fadeIn(a.FADE_SPEED),$("#monar_untagged_merges_panel").fadeOut(a.FADE_SPEED)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJiraUrl=function(){return $(".shortcuts-external_tracker").attr("href")||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),a=n(3),o=n(9),i=n(10),s=n(26);t.prettifyPullRequestPage=function(){var e,t,n;if(r.isPullRequestsListPage()){$(".approvals-required-text.text-muted").remove(),$(".mr-section-container.mr-widget-workflow .mr-widget-footer").remove(),$(".mr-widget-heading.mr-widget-workflow .ci-widget-content").remove(),$(".mr-state-widget.prepend-top-default").css("position","relative");var l=$(".ci-widget.media").closest(".mr-widget-heading.mr-widget-workflow");l.css({position:"absolute",right:"70px",top:"-15px",border:"none"}),$(".ci-widget-container",l).insertBefore($(".align-self-start",l)),$(".align-self-start",l).css({"margin-left":"15px","margin-right":0}),l.addClass("remove-before"),$(".diverged-commits-count").contents().filter((function(){return 3==this.nodeType})).remove(),$(".diverged-commits-count").css("font-size","10px"),$(".git-merge-container .normal strong").contents().filter((function(){return"Request to merge"===$(this).text().trim()})).remove(),$(".js-check-out-branch").insertAfter($(".branch-actions ul.dropdown-menu li:last-child")),$(".js-check-out-branch").removeClass("btn"),$(".js-check-out-branch").wrap("<li></li>"),$(".js-web-ide").insertAfter($(".branch-actions ul.dropdown-menu li:last-child")),$(".js-web-ide").removeClass("btn"),$(".js-web-ide").wrap("<li></li>"),$(".branch-actions ul.dropdown-menu").css("overflow","hidden"),$(".emoji-list-container .awards").css("opacity",.1).css("border-bottom","none"),$(".emoji-list-container .awards").mouseenter((function(){$(this).css("opacity",1)})).mouseleave((function(){$(this).css("opacity",.1)})),a.isFrontend()&&window.gl.mrWidgetData&&(o.createMainFeebasMergeRequestButton(),o.createFeebasCommitButtons());var c=0;c=0,function e(){var t=$(".detail-page-header-actions.js-issuable-actions .issue-btn-group"),n=$('[data-qa-selector="approve_button"]').clone(!0,!0);if(0!==n.length)t.prepend(n),n.css({float:"left"}),n.removeClass("btn-sm"),n.attr("data-qa-selector","-"),n.on("click",(function(){var t=this;$('[data-qa-selector="approve_button"]').trigger("click"),$(this).off("click"),$(this).addClass("disabled"),setTimeout((function(){$(t).remove(),c=0,e()}),1e3)}));else{if(++c>10)return;setTimeout((function(){e()}),100)}}(),i.CommitApprovals.GUI.markApprovedCommits(),s.createRunE2eButton(null===(n=null===(t=null===(e=window)||void 0===e?void 0:e.gl)||void 0===t?void 0:t.mrWidgetData)||void 0===n?void 0:n.iid),setInterval((function(){$(".err").removeClass("err")}),500)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPullRequestsListPage=function(){return 1===$("div.merge-request").length}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(12),o=n(27),i=n(13);function s(e,t){var n="",r="";"success"===e?(n="Run E2E",r="btn-success"):"noJob"===e?n="No Docker Job Found":"error"===e?(n="Docker Job Error",r="btn-danger"):"running"===e?(n="Docker Job Running",r="btn-info"):"other"===e&&(n="Unknown Docker Job Issue");var a='\n        <a\n            href="'+(t||"#")+'"\n            target="_blank"\n            class="btn btn-sm '+(t?"":"disabled")+" "+r+'"\n            style="margin-right: 20px"\n        >\n            '+n+"\n        </a>\n    ";$(".mr-widget-heading.mr-widget-workflow > .mr-widget-content > .ci-widget.media.js-ci-widget").prepend(a)}t.createRunE2eButton=function(e){return r.isFrontend()?a.GitlabPipelines.getPipelinesForMR(e).then((function(e){if(e&&0!==e.length){var t=e[0];o.GitlabJobs.getJobsForPipeline(t.id).then((function(e){if(!e)return s("noJob");var t=e.filter((function(e){return"exponea docker image"===e.name}))[0];return t?"success"!==t.status?"pending"===t.status||"running"===t.status||"created"===t.status?s("running"):"failed"===t.status?s("error"):s("other"):void o.GitlabJobs.getJobLog(t.id).then((function(e){var t=e.match(/latest: digest: (sha256:[^ ]*)/m);return t&&t[1]?s("success","/e2e/e2e-tests/pipelines/new/"+i.createHashString({fe_version:t[1]})):s("other")})):s("noJob")}))}else;})):Promise.resolve()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0);!function(e){e.getJobsForPipeline=function(e,t){void 0===t&&(t={});var n=r.getProjectId(),o=new a.Deferred;return $.ajax({url:"/api/v4/projects/"+n+"/pipelines/"+e+"/jobs",data:t}).then((function(e){o.resolve(e)})).catch(o.reject),o.promise},e.getJobLog=function(e){var t=r.getProjectId(),n=new a.Deferred;return $.ajax("/api/v4/projects/"+t+"/jobs/"+e+"/trace").then((function(e){n.resolve(e)})).catch(n.reject),n.promise}}(t.GitlabJobs||(t.GitlabJobs={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCustomStyles=function(){if(0===$("#monar-styles").length){document.head.insertAdjacentHTML("beforeend",'<style id="monar-styles">\n                .remove-before::before{display: none !important;} .remove-after::after{display: none !important;}\n\n                @keyframes monar_background_blink {\n                    100% {\n                    background-color: rgba(0,0,0,0);\n\n                    }\n                }\n\n                .monar-glow {\n                  color: #fff;\n                  -webkit-animation: monar-glow 1s ease-in-out infinite alternate;\n                  -moz-animation: monar-glow 1s ease-in-out infinite alternate;\n                  animation: monar-glow 1s ease-in-out infinite alternate;\n                }\n\n                @-webkit-keyframes monar-glow {\n                  from {\n                    text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #e60073, 0 0 40px #e6000b, 0 0 50px #e60073, 0 0 60px #e60073, 0 0 70px #e60073;\n                  }\n                  to {\n                    text-shadow: 0 0 20px #fff, 0 0 30px #ff4da6, 0 0 40px #ff4da6, 0 0 50px #ff4da6, 0 0 60px #ff4da6, 0 0 70px #ff4da6, 0 0 80px #ff4da6;\n                  }\n                }\n            </style>')}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);function a(){var e=/commit_id=([0-9a-zA-Z]+)/.exec(location.search);return e?e[1]:""}t.prettifyPullRequestCommitPage=function(){a()&&function e(){if(!window.gl||!window.gl.mrWidgetData||!window.gl.mrWidgetData.iid)return;if(!window.monar_MR_DATA)return;var t=a(),n=r.CommitApprovals.isApprovedByYou(t);$("#MONAR_APPROVE_COMMIT").remove();var o=$('\n        <button id="MONAR_APPROVE_COMMIT" type="button" class="btn '+(n?"btn-warning btn-inverted":"btn-primary")+'" variant="primary" size="sm" style="float: right;">\n            '+(n?"Revoke commit approval":"Approve commit")+"\n        </button>\n    ");o.on("click",(function(){$(this).off("click"),$(this).addClass("disabled"),r.CommitApprovals.toggleCommitApproval(window.gl.mrWidgetData.iid,t,!n).then((function(){e()}))})),$(".detail-page-description").prepend(o)}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),a=n(2);!function(e){var t="MONAR_CHANGELOG_LAST_SEEN_ENTRY";function n(){if($("#monar_changelog_panel").is(":hidden")||0===$("#monar_changelog_panel").length){if(0===$("#monar_changelog_panel").length){var e=$('\n<div id="monar_changelog_panel"\n    style="display: none; position: fixed; left: 0; right: 0; bottom: 0; top: 40px; background: rgba(0,0,0,0.8); z-index: 9999;"\n>\n    <div style="background: white; left: 50%; top: 40px; width: 70%; bottom: 40px; transform: translateX(-50%); border-radius: 4px; position: absolute; overflow: hidden;">\n        <div id="monar_changelog_close_button" style="position: absolute; right: 0; top: 0; color: black; cursor: pointer; font-weight: bold; padding: 10px 20px;">\n            X\n        </div>\n        <h1 style="text-align: center; font-size: 20px; margin-top: 8px; margin-bottom: -12px;">\n            Changelog\n        </h1>\n        <div id="monar_changelog_contents" style="padding: 0 20px 20px 20px; overflow: auto; height: calc(100% - 20px);">\n\n        </div>\n    </div>\n</div>\n                ');$("body").append(e),$("#monar_changelog_close_button").on("click",(function(){n()})),r.changelogNotes.forEach((function(e){$("#monar_changelog_contents").append('\n                        <hr>\n                        <div>\n                            <div style="display: inline-block; vertical-align: top; margin-right: 20px; font-weight: bold; color: #de7e00;">'+e.date+'</div>\n                            <div style="display: inline-block; vertical-align: top;">'+e.text+"</div>\n                        </div>\n                    ")}));document.head.insertAdjacentHTML("beforeend",'\n                    <style id="monar-styles-changelog">\n                        #monar_changelog_contents h1 {\n                            margin-top: 0;\n                            font-size: 20px;\n                            margin-bottom: 8px;\n                        }\n\n                        #monar_changelog_contents p {\n                            margin-bottom: 8px;\n                        }\n                    </style>')}$("#monar_changelog_panel").fadeIn(a.FADE_SPEED)}else $("#monar_changelog_panel").fadeOut(a.FADE_SPEED)}e.createOpenChangelogButton=function(){if(!($("#monar_open_changelog_button").length>0)){var e=$('\n            <div id="#monar_open_changelog_button" style="position: absolute; left: 50%; transform: translateX(-50%); z-index: 1;">\n                <ul class="navbar-sub-nav list-unstyled">\n                    <li>\n                        <button class="btn">\n                            Changelog\n                        </button>\n                    </li>\n                </ul>\n            </div>\n        '),a=parseInt(localStorage.getItem(t)||"0",10)<r.changelogNotes.length;$("button",e).toggleClass("monar-glow",a),$("button",e).on("click",(function(){$(this).removeClass("monar-glow"),localStorage.setItem(t,""+r.changelogNotes.length),n()})),$("header.navbar").prepend(e)}},e.toggleChangelog=n}(t.Changelog||(t.Changelog={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changelogNotes=[{date:"27.07.2020",text:"\n<h1>Changes</h1>\n<ul>\n    <li>Improvements for running E2E pipeline from FE repo</li>\n    <li>Improvements for specifying E2E pipeline variables</li>\n</ul>\n        "},{date:"26.07.2020",text:"\n<h1>Changes</h1>\n<ul>\n    <li>Fixed task count shown in merge request list</li>\n</ul>\n        "},{date:"04.07.2020",text:"\n<h1>Changes</h1>\n<ul>\n    <li>Nightly pipeline badges brought back to action</li>\n</ul>\n        "},{date:"26.06.2020",text:'\n<h1>Changes</h1>\n<ul>\n    <li><b>FE only:</b> Automatically set "No. approvals required" based on labels</li>\n</ul>\n        '},{date:"25.05.2020",text:"\n<h1>Changes</h1>\n<ul>\n    <li>New branching strategy is here</li>\n    <li>The goose has been captured and moved to a pond</li>\n</ul>\n        "},{date:"16.03.2020",text:"\n<h1>Bugfixes</h1>\n<ul>\n    <li>Attempt to fix approve button after gitlab update</li>\n</ul>\n        "},{date:"22.01.2020",text:"\n<h1>Bugfixes</h1>\n<ul>\n    <li>Nightly pipeline badges used by FE repository should be working correctly again</li>\n</ul>\n        "},{date:"18.01.2020",text:"\n<h1>Commit approvals</h1>\n<p>\n    You can now approve separate commits in Merge Request.\n</p>\n<p>\n    Please use this just a simple helping tool and do not rely on it for actual code review. For proper MR approving still use the actual gitlab approve button.\n</p>\n        "}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),a=n(0),o=n(12),i=n(8),s=n(34);!function(e){function t(e){return!!e.match(/^v1\.\d+$/)}function n(e){return parseInt(e.match(/^v1\.(\d+)$/)[1],10)}e.initialize=function(){var e={versions:[],versionData:{},minVersion:5e3,maxVersion:-1};return r.GitlabBranches.getBranches("^v1.").then((function(r){r.forEach((function(r){var a=r.name;if(t(a)){var o=n(a);e.versions.push(o),e.versions.sort(),e.maxVersion=Math.max(o,e.maxVersion),e.minVersion=Math.min(o,e.minVersion),e.versionData[o]={branch:r,color:"transparent"}}}))})).then((function(){return r.GitlabBranches.getBranches("^master").then((function(t){var n=t[0];e.versionData[n.name]={branch:n,color:"transparent"}}))})).then((function(){window.monar.versionData=e,window.monar.versionData.versions.forEach((function(t,n){e.versionData[t].color=i.Colors.getGradientColor("#F00","#FF0",Math.min(Math.max(1/(e.versions.length-1)*n,0),1))}))}))},e.fetchMoreDetails=function(){var e;if(!(null===(e=window.monar)||void 0===e?void 0:e.versionData))return Promise.reject();for(var r=new a.Deferred,i=[],l=[],c=function(e,t){i.push(o.GitlabPipelines.getPipelines({ref:t.branch.name}).then((function(t){return{version:e,pipeline:t[0]}}))),l.push(s.GitlabTags.getTags("^"+t.branch.name).then((function(t){return{version:e,tag:t[0]}})))},u=0,d=Object.entries(window.monar.versionData.versionData);u<d.length;u++){var p=d[u];c(p[0],p[1])}return Promise.all(i).then((function(e){return e.forEach((function(e){window.monar.versionData.versionData[e.version].pipeline=e.pipeline}))})).then((function(){return Promise.all(l)})).then((function(e){return e.forEach((function(e){window.monar.versionData.versionData[e.version].tag=e.tag}))})).then((function(){return o.GitlabPipelines.getPipelineSchedules()})).then((function(e){return Promise.all(e.map((function(e){return o.GitlabPipelines.getPipelineSchedule(e.id)})))})).then((function(e){return e.map((function(e){return e.last_pipeline}))})).then((function(e){return e.forEach((function(e){if(t(e.ref)||"master"===e.ref){var r=t(e.ref)?n(e.ref):"master";window.monar.versionData.versionData[r].nightly=e}}))})).then((function(){return r.resolve()})),r.promise}}(t.BranchingVersions||(t.BranchingVersions={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0);!function(e){e.getBranches=function(e){void 0===e&&(e="");var t=r.getProjectId(),n=new a.Deferred;return $.ajax("/api/v4/projects/"+t+"/repository/branches?search="+e).then((function(e){n.resolve(e)})).catch(n.reject),n.promise}}(t.GitlabBranches||(t.GitlabBranches={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(0);!function(e){e.getTags=function(e){void 0===e&&(e="");var t=r.getProjectId(),n=new a.Deferred;return $.ajax("/api/v4/projects/"+t+"/repository/tags?search="+e).then((function(e){n.resolve(e)})).catch(n.reject),n.promise}}(t.GitlabTags||(t.GitlabTags={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36),a=n(13),o=n(37);function i(e,t){$('*[name="pipeline[variables_attributes][][key]"]').last().val(e),$('*[name="pipeline[variables_attributes][][secret_value]"]').last().val(t);var n=document.createEvent("HTMLEvents");n.initEvent("input",!0,!0),$('*[name="pipeline[variables_attributes][][key]"]').last()[0].dispatchEvent(n)}function s(){var e=null;if($('*[name="pipeline[variables_attributes][][key]"]').each((function(){var t=$(this);"JOBS"!==t.val()&&"RUN_ALL"!==t.val()||(e=t)})),$("#MONAR_E2E_VARIABLES_BUTTONS a span").css({"border-color":"transparent"}),e){var t=e.val(),n=$('*[name="pipeline[variables_attributes][][secret_value]"]',e.parent()).val();$("#MONAR_E2E_VARIABLES_BUTTON_"+t+"_"+n+" span").css({"border-color":"black"})}}t.enhanceE2eCreatePipelineScreen=function(){if(r.isE2e()&&location.pathname.includes("pipelines/new")){var e=a.getHashVariables();e.fe_version&&i("DOCKER_FRONTEND_VERSION",e.fe_version);$(".js-ci-variable-list-section .ci-variable-list").after('<div style="margin-top: 10px" id="MONAR_E2E_VARIABLES_BUTTONS"></div>'),[{key:"RUN_ALL",value:"true",label:"Run all"},{key:"JOBS",value:"app",label:"App"},{key:"JOBS",value:"anl",label:"Analytics"},{key:"JOBS",value:"cmp",label:"Campaigns"},{key:"JOBS",value:"dp",label:"Data Pipe"},{key:"JOBS",value:"we",label:"Web Exp"}].forEach((function(e,t){var n="background: "+o.colorForIndex(t)+";",r=$('\n            <a class="label-link" style="cursor: pointer; margin-bottom: 10px; margin-right: 5px;" id="MONAR_E2E_VARIABLES_BUTTON_'+e.key+"_"+e.value+'">\n                <span class="badge color-label" style="'+n+'; height: 26px; line-height: 22px; border: 3px solid transparent;">\n                    '+e.label+"\n                </span>\n            </a>\n        ");r.on("click",(function(){var t=null;$('*[name="pipeline[variables_attributes][][key]"]').each((function(){var e=$(this);"JOBS"!==e.val()&&"RUN_ALL"!==e.val()||(t=e)})),t?(t.val(e.key),$('*[name="pipeline[variables_attributes][][secret_value]"]',t.parent()).val(e.value)):i(e.key,e.value),s()})),$("#MONAR_E2E_VARIABLES_BUTTONS").append(r)})),s()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isE2e=function(){return"/e2e/e2e-tests"===window.monar_GLOBALS.project}},function(e,t,n){"use strict";function r(e,t,n){return Math.max(t,Math.min(e,n))}Object.defineProperty(t,"__esModule",{value:!0}),t.colorForIndex=function(e,t){void 0===t&&(t=!0);var n=function(e,t,n){if(0==t)return[n,n,n];if(0==n)return[0,0,0];var a=[0,0,0],o=6*e,i=Math.floor(o),s=o-i,l=n*(1-t),c=n*(1-t*s),u=n*(1-t*(1-s));switch(i+1){case 0:a[0]=n,a[1]=l,a[2]=c;break;case 1:a[0]=n,a[1]=u,a[2]=l;break;case 2:a[0]=c,a[1]=n,a[2]=l;break;case 3:a[0]=l,a[1]=n,a[2]=u;break;case 4:a[0]=l,a[1]=c,a[2]=n;break;case 5:a[0]=u,a[1]=l,a[2]=n;break;case 6:a[0]=n,a[1]=l,a[2]=c;break;case 7:a[0]=n,a[1]=u,a[2]=l}return a[0]=Math.floor(255*r(a[0],0,1)),a[1]=Math.floor(255*r(a[1],0,1)),a[2]=Math.floor(255*r(a[2],0,1)),a}(.618033988749895*e%1,.5,Math.sqrt(1-.618033988749895*e%.5));return t?"rgb("+n[0]+", "+n[1]+", "+n[2]+")":n}}]);